<div ng-controller="TopicNewCtrl">
    <div class=''>
    <div class="panel panel-default">
      <div class="panel-heading">
        新建帖子
      </div>
      <div class="panel-body">
        <form ng-submit='createTopic()' name='topicForm'>
                    <div class="row" style='min-width:900px;'>
                        <div class='col-md-6'>
                                <select class='form-control' ng-init='topic.node_id = 1' ng-model='topic.node_id' ng-options="node.id as node.name group by node.section_name for node in nodes" prompt="选择分类"></select>
                                <br />
                                <input class='form-control' ng-model='topic.title' name='title'  placeholder='在这里输入标题' required  ng-minlength=2 />
                                <span class="text-warning" ng-show="topicForm.title.$error.required">
                                      * 不能为空</span><br>
                                <!-- here use init to avoid errors with emoji filter -->
                                <textarea ng-init="topic.body = ''"  ng-model='topic.body' class='form-control' style='min-height: 200px;' ng-required ng-min-length='1' msd-elastic></textarea>
                                
                        </div>
                        <div class='col-md-6'>
                            <h4>{{topic.title}}</h4>
                            <div btf-markdown="topic.body | emoji">
                            </div>
                        </div>
                        <div class="col-md-12">
                            <span class='pull-left text-info'> 注意, 预览与ruby-china.org原站不同, 因为没有引入相应的样式</span>
                        </div>
                    </div>
                    </form>
      <div class="panel-footer">
        <button class="btn btn-success" type='submit' ng-click='createTopic()'>发表</button>
        <a type="button" class="btn btn-danger">关闭</a>
      </div>
    </div>
    </div>
</div>